<!DOCTYPE html>
<html>
  <head>
    <!-- using bootstrap 4.3.1 -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/custom.css" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" href="images/logo/Artboard 1logo.png" />
    <script src="js/jquery-3.4.1.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/custom.js"></script>
    <title>R-SQUARE</title>
    <!--CSS-->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg navbar-light bg-light"
      style="padding-left: 0px; padding-right: 0px;"
    >
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbarTogglerDemo01"
        aria-controls="navbarTogglerDemo01"
        aria-expanded="false"
        aria-label="Toggle navigation"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
        <a class="navbar-brand" href="#">
          <!-- <img
            src="images/logo/Artboard 1logo.png"
            width="30"
            height="30"
            class="d-inline-block align-top"
            alt=""
          /> -->
          <span class="vdark-blue">R-SQUARE</span>
        </a>
        <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
          <li class="nav-item active">
            <a class="nav-link" href="#"
              >Home <span class="sr-only">(current)</span></a
            >
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li>
          <li class="nav-item">
            <a
              class="nav-link disabled"
              href="#"
              tabindex="-1"
              aria-disabled="true"
              >Disabled</a
            >
          </li>
        </ul>
        <!-- <form class="form-inline my-2 my-lg-0">
                <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
            </form> -->
      </div>
    </nav>
    <!-- /Head of the Card -->
    <div class="container">
      <div class="container-content">
        <div class="d-flex justify-content-center">
          <h1 class="vdark-blue">View User</h1>
        </div>
        <div class="card-content justify-content-center">
          <!--------------------------------First Row------------------------------>
          <div class="row">
            <div class="col-3"  >
                <div id="col1"></div>
            </div>
            <!--Detail of User-->
            <!--Column of Detail User1-->
            <div class="col-5">
              <div class="row">
                <span id="name"></span>
              </div>
            </div>
            <!--Column of Detail User2-->
            <div class="col-4">
              <div class="row">
                <span id="col2"></span>
              </div>
            </div>
          </div>
          <!-- Script For First Row -->
          <script>
            const urlParams = new URLSearchParams(window.location.search);
            const id = urlParams.get("id");

            var xmlhttp = new XMLHttpRequest();
            xmlhttp.onreadystatechange = function() {
              if (this.readyState == 4 && this.status == 200) {
                var myObj = JSON.parse(this.responseText);
                var container = document.getElementById("name");
                var div = document.createElement("div");
                  div.innerHTML =
                     "Name: " +
                    myObj['name'] + ' ' + myObj['surname'] +
                    "<br>" +
                    "Faculty: " +
                    myObj['faculty'] +
                    "<br>" +
                    "Position: " +
                    myObj['position'] +
                    "<br><br>";
                  container.appendChild(div)
                  
                var container = document.getElementById("col2");
                var div2 = document.createElement("div");
                  div2.innerHTML =
                     "Role: " +
                    myObj['role'] +
                    "<br>" +
                    "Department: " +
                    myObj['department'] +
                    "<br>" 
                  container.appendChild(div2)

                var container = document.getElementById("col1");
                var div3 = document.createElement("div");
                div3.innerHTML ="<img src=\"picture/user/"  + myObj['picture'] + "\" class=\"img-fluid\" \" >" + "<br><br>";
                container.appendChild(div3)

              }
            };
            xmlhttp.open("GET", "getUser.php?userId=" + id , true);
            xmlhttp.send();

            // fetch("getUser.php", {
            //   method: "GET",
            //   body: JSON.stringify({ id })
            // })
            //   .then(async res => {
            //     // debugging
            //     // const test = await res.text();
            //     // console.log("server response", test);

            //     const data = await res.json();

            //     // var myObj = JSON.parse(this.responseText);
            //     console.log("data", data);
            //     var container = document.getElementById("name");
            //     container.innerHTML = `Name : ${data.name} ${data.surname}`+ "<br>"
            //     +`Faculty : ${data.faculty}`+"<br>"
            //     +`Position : ${data.position}`+"<br>"
            //     for (var i = 0; i < data.length; i++) {
            //       var div = document.createElement("div");
            //       div.innerHTML =
            //         "Name: " +
            //         data[i][0] +
            //         "<br>" +
            //         "Faculty: " +
            //         data[i][1] +
            //         "<br>" +
            //         "Pic: " +
            //         data[i][2] +
            //         "<br><br>";
            //       container.appendChild(div);
            //     }
            //   })
            //   .catch(err => {
            //     console.log("err", err);
            //   });
          </script>
          <!--------------------------------Second Row------------------------------>
          <div class="row">
            <h4 class="font-weight-bold text-lg-left text-primary">
              Responsible Activity Project
            </h4>
            <!--Table of Activity infomation-->
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Activity Project</th>
                  <th scope="col"> President</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Mark</td>
                  <td>Otto</td>
                </tr>
                <tr>
                  <td>Jacob</td>
                  <td>Thornton</td>
                </tr>
              </tbody>
            </table>
            <!-- Popup Add-Activity Button -->
            <div class="container text-right">
              <button
                type="button"
                class="btn btn-primary"
                data-toggle="modal"
                data-target="#addActivity"
                data-whatever="@mdo"
              >
                Add Activity
              </button>
              <div
                class="modal fade"
                id="addActivity"
                tabindex="-1"
                role="dialog"
                aria-labelledby="addActivityLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog" role="document">
                  <!-- Pop-up Content -->
                  <div class="modal-content">
                    <!-- Headder of pop-up -->
                    <div class="modal-header">
                      <h5
                        class="modal-title text-lg-center text-primary"
                        id="exampleModalLabel"
                      >
                        New message
                      </h5>
                      <button
                        type="button"
                        class="close"
                        data-dismiss="modal"
                        aria-label="Close"
                      >
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <!-- Body of pop-up -->
                    <div class="modal-body">
                      <h6 class="font-weight-bold text-primary text-left">
                        Search
                      </h6>
                      <div class="form-group mb-4">
                        <input
                          id="exampleFormControlInput1"
                          type="email"
                          placeholder="Searching"
                          class="form-control form-control-underlined"
                        />
                      </div>
                      <h6 class="font-weight-bold text-primary text-left">
                        Activity Name
                      </h6>
                      <h6 class="font-weight-bold text-primary text-left">
                        Activity President
                      </h6>
                    </div>
                    <!-- Footer of pop-up -->
                    <div class="modal-footer">
                      <button type="button" class="btn btn-primary">Add</button>
                    </div>
                  </div>
                  <!-- End of Content-->
                </div>
              </div>
            </div>
            <!-- End of Popup Add Activity -->
          </div>
          <!--------------------------------Third Row------------------------------>
          <div class="row">
            <h4 class="font-weight-bold text-lg-left text-primary">
              Responsible Organization
            </h4>
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Activity Project</th>
                  <th scope="col">Activity President</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Mark</td>
                  <td>Otto</td>
                </tr>
                <tr>
                  <td>Jacob</td>
                  <td>Thornton</td>
                </tr>
              </tbody>
            </table>
            <div class="container text-right">
              <button
                type="button"
                class="btn btn-primary"
                onclick="myfunction()"
              >
                Add Activity
              </button>
            </div>
          </div>
          <!--------------------------------fourth Row------------------------------>
          <div class="row">
            <h4 class="font-weight-bold text-lg-left text-primary">
              Responsible Place
            </h4>
            <table class="table">
              <thead>
                <tr>
                  <th scope="col">Activity Project</th>
                  <th scope="col">Activity President</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>Mark</td>
                  <td>Otto</td>
                </tr>
                <tr>
                  <td>Jacob</td>
                  <td>Thornton</td>
                </tr>
              </tbody>
            </table>
            <div class="container text-right">
              <button
                type="button"
                class="btn btn-primary"
                onclick="myfunction()"
              >
                Add Activity
              </button>
            </div>
          </div>
          <!-- /Card of Connent -->
        </div>
      </div>
    </div>
  </body>
</html>
