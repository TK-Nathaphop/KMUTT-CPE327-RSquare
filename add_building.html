<!DOCTYPE html>
<html lang="en">

<head>
	<!-- using bootstrap 4.3.1 -->
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	<script src="js/jquery-3.4.1.js"></script>
	<link rel="stylesheet" href="css/bootstrap.css" />
	<link rel="stylesheet" href="css/custom.css" />
	<link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet" />
	<link rel="icon" href="picture/logo/Artboard 1logo.png" />
	<script src="js/jquery-3.4.1.js"></script>
	<script src="js/popper.min.js"></script>
	<script src="js/bootstrap.min.js"></script>
	<!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->
	<script src="js/custom.js"></script>
	<title>R-SQUARE</title>
</head>

<body>
	<!-- <div id="nav-placeholder"> </div>
        <script>
            $.get("navigationbar.html", function(data){
                $("#nav-placeholder").replaceWith(data);
            });
        </script> -->
	<div class="container">
		<!-- <form action="edit_building.php" method="post" enctype="multipart/form-data" id="add-building-form"> -->
		<div id="add-building-form">
			<div class="row">
				<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
					<div class="d-flex justify-content-center">
						<h1 class="vdark-blue"><b>Add Building</b></h1>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6">
					<div class="form-group">
						<label for="Building-Name"><span class="dark-blue"><b>Building Name</b></span></label>
						<input type="text" class="form-control" id="Building_Name0" name="Building_Name0"
							placeholder="Witsawa Wattana Building" />
					</div>
				</div>
				<div class="col-12 col-sm-12 col-md-8 col-lg-6 col-xl-6">
					<div class="form-group">
						<input type="file" id="img-building" name="img[]" class="file" accept="image/*" />
						<label for="Building-Image"><span class="dark-blue"><b>Building Image</b></span></label>
						<div class="input-group">
							<input type="text" class="form-control" disabled placeholder="Upload File"
								id="file-building" />
							<div class="input-group-append">
								<button type="button" id="btn" class="browse-building btn btn-dark-blue">
									Browse...
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row p-3">
				<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12" id="floor-template">
					<div class="row nothing" id="deleteFloor0">
						<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
							<div class="row shadow p-3 mb-3 bg-white rounded">
								<div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
									<div class="form-group">
										<label for="Floor0"><span class="dark-blue"><b>Floor</b></span></label>
										<input type="text" class="form-control" id="Floor0" placeholder="Floor G"
											name="Floor0" />
									</div>
									<div class="form-group">
										<input type="file" id="img-blueprint" name="img[]" class="file"
											accept="image/*" />
										<label for="Blueprint"><span class="dark-blue"><b>Blueprint</b></span></label>
										<div class="input-group">
											<input type="text" class="form-control" disabled placeholder="Upload File"
												id="file-blueprint" />
											<div class="input-group-append">
												<button type="button" id="btn"
													class="browse-blueprint btn btn-dark-blue">
													Browse...
												</button>
											</div>
										</div>
									</div>
								</div>
								<div class="col-5 col-sm-5 col-md-5 col-lg-5 col-xl-5">
									<div class="row">
										<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
											<label for="Place"><span class="dark-blue"><b>Place</b></span></label>
										</div>
									</div>
									<div class="row">
										<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12" id="place">
											<div class="row">
												<div class="col-12 col-sm-12 col-md-12 col-lg-5 col-xl-5">
													<h5 id="h5F0P0">Dummy Place</h5>
												</div>
												<div class="col-12 col-sm-12 col-md-12 col-lg-7 col-xl-7">
													<a href="#" onclick="View_Details('parameter')" id="View-Details">
														<span class="dark-blue" data-toggle="modal"
															data-target="#add-place-popup">View details</span>
													</a>
												</div>
											</div>
										</div>
									</div>
									<div class="row">
										<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
											<!-- Button trigger modal -->
											<button type="button" class="btn btn-dark-blue" data-toggle="modal"
												data-target="#add-place-popup" id="add-place-popup-btn">
												Add Place
											</button>

											<!-- Modal -->
											<div class="modal fade" id="add-place-popup" tabindex="-1" role="dialog"
												aria-labelledby="add-place-popup-Title" aria-hidden="true">
												<div class="modal-dialog modal-dialog-centered" role="document">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title vdark-blue"
																id="exampleModalLongTitle">
																<b style="padding-left: 1px;">Add Place</b>
															</h5>
															<button onclick="close_detail('F0P0')" type="button"
																class="close" data-dismiss="modal" aria-label="Close">
																<span aria-hidden="true">&times;</span>
															</button>
														</div>
														<div class="modal-body">
															<div class="container-fluid">
																<div class="row">
																	<div
																		class="col-5 col-sm-5 col-md-5 col-lg-5 col-xl-5">
																		<div class="form-group">
																			<label for="Place_NameF0P0"><span
																					class="dark-blue"><b>Place
																						Name</b></span></label>
																			<input type="text" class="form-control"
																				id="Place_NameF0P0"
																				placeholder="Dummy place"
																				name="Place_NameF0P0" />
																		</div>
																	</div>
																	<div
																		class="col-5 col-sm-5 col-md-5 col-lg-5 col-xl-5">
																		<div class="form-group">
																			<label for="Capacity"><span
																					class="dark-blue"><b>Capacity</b></span></label>
																			<input type="text" class="form-control"
																				id="CapacityF0P0" placeholder="50" />
																		</div>
																	</div>
																	<div
																		class="col-2 col-sm-2 col-md-2 col-lg-2 col-xl-2">
																		<div class="form-group">
																			<p class="vdark-blue"
																				style="padding-top: 80%;">
																				people
																			</p>
																		</div>
																	</div>
																</div>
																<div class="row">
																	<div
																		class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
																		<div class="form-check">
																			<input onclick="DrumUsage('F0P0')" class="form-check-input"
																				type="checkbox" value="1"
																				id="DrumUsageF0P0" name="DrumUsageF0P0"/>
																			<label class="form-check-label"
																				for="DrumUsageF0P0">
																				Drum Usage
																			</label>
																		</div>
																	</div>
																	<div
																		class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
																		<div class="form-check">
																			<input class="form-check-input"
																				type="checkbox" value=""
																				id="Projector" />
																			<label class="form-check-label"
																				for="Projector">
																				Projector
																			</label>
																		</div>
																	</div>
																</div>
																<div class="row">
																	<div
																		class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
																		<div class="form-check">
																			<input class="form-check-input"
																				type="checkbox" value=""
																				id="Microphone" />
																			<label class="form-check-label"
																				for="Microphone">
																				Microphone
																			</label>
																		</div>
																	</div>
																	<div
																		class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-6">
																		<div class="form-check">
																			<input class="form-check-input"
																				type="checkbox" value="" id="Speaker" />
																			<label class="form-check-label"
																				for="Speaker">
																				Speaker
																			</label>
																		</div>
																	</div>
																</div>
															</div>
														</div>
														<div class="modal-footer">
															<button type="button" class="btn btn-dark-blue"
																id="add-place" data-dismiss="modal" style="display: block;">
																<span id="add-place-text">Add</span>
															</button>
															<button type="button" class="btn btn-dark-blue"
																id="save" data-dismiss="modal" style="display: block;">
																<span id="add-place-text">Save</span>
															</button>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
								<div class="col-1 col-sm-1 col-md-1 col-lg-1 col-xl-1">
									<button type="button" onclick="deleteFloor0()" class="close" name="deleteFloor0"
										data-dismiss="modal" aria-label="Close">
										<span aria-hidden="true">&times;</span>
										<script>
											function deleteFloor0() {
												alert("Hello");
												$("div").remove("#deleteFloor0");
											}
										</script>
									</button>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row p-3 mb-3">
				<div class="col-sm-4 col-md-6 col-lg-8 col-xl-8"></div>
				<div class="col-6 col-sm-4 col-md-3 col-lg-2 col-xl-2">
					<button type="button" class="btn btn-secondary" data-toggle="modal" id="delete-floor"
						style="width:100%">
						Delete floor
					</button>
				</div>
				<div class="col-6 col-sm-4 col-md-3 col-lg-2 col-xl-2">
					<button type="button" class="btn btn-dark-blue" data-toggle="modal" id="add-floor"
						style="width:100%">
						Add floor
					</button>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-4 col-md-6 col-lg-8 col-xl-8"></div>
				<div class="col-6 col-sm-4 col-md-3 col-lg-2 col-xl-2">
					<button type="button" class="btn btn-secondary" data-toggle="modal" id="btn-cancel"
						style="width:100%">
						Cancel
					</button>
				</div>
				<div class="col-6 col-sm-4 col-md-3 col-lg-2 col-xl-2">
					<button onclick="sendAll()" type="submit" class="btn btn-vdark-blue" data-toggle="modal"
						id="btn-save" style="width:100%">
						Save
					</button>
				</div>
			</div>
		</div>
	</div>
</body>
<script>
	console.log("euei");

	function sendAll() {
		sendJSON();
		sendIMG();
	}

	function sendIMG() {
		console.log("img send");
		const formData = new FormData();
		const img1 = document.getElementById("img-building").files[0];
		const img2 = document.getElementById("img-blueprint").files[0];
		formData.append("img-building", img1);
		formData.append("img-blueprint", img2);

		fetch("uploadfile.php", {
			method: "POST",
			body: formData
		}).then(async res => {
			//   debugging
			const data = await res.text();
			console.log("img res", data);
		});
	}

	function sendJSON() {
		const Building_Name0 = $("#Building_Name0").val();
		const Floor0 = $("#Floor0").val();
		// const DrumUsageF0P0 = $("#DrumUsageF0P0").val();
		const DrumUsageF0P0 = $("#DrumUsageF0P0").prop("checked");
		// const Floor0 = document.getElementById("Floor0").value;
		console.log("Building_Name0", Building_Name0);
		console.log("Floor0", Floor0);
		console.log("DrumUsage0", DrumUsageF0P0);
		fetch("data.php", {
			method: "POST",
			body: JSON.stringify({
				Building_Name0: Building_Name0,
				Floor0: Floor0,
				DrumUsageF0P0: DrumUsageF0P0
			})
		}).then(async res => {
			//   debugging
			const data = await res.text();
			console.log("server res", data);
		});
	}
</script>

</html>